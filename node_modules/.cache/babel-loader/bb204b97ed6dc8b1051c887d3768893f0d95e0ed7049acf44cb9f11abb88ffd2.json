{"ast":null,"code":"var _jsxFileName = \"/Users/zop7768/go/src/MyProjects/massmailgeneratorusinggolang/frontend/src/components/EmailSender.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Container, Typography } from '@mui/material';\nimport { sendEmail } from '../services/emailService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EmailSender = () => {\n  _s();\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [file, setFile] = useState(null);\n  const [fileName, setFileName] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const handleFileChange = e => {\n    const selectedFile = e.target.files[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      setFileName(selectedFile.name); // Set the file name for feedback\n      setError('');\n    } else {\n      setFile(null);\n      setFileName('');\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!file) {\n      setError('Please upload a CSV file.');\n      return;\n    }\n    const formData = new FormData();\n    formData.append('subject', subject);\n    formData.append('body', body);\n    formData.append('file', file);\n    try {\n      await sendEmail(formData); // Adjust the API call to handle FormData\n      setSuccess('Emails sent successfully!');\n      setError('');\n      setFile(null);\n      setFileName('');\n    } catch (err) {\n      setError('Failed to send emails. ' + (err.message || ''));\n      setSuccess('');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      gutterBottom: true,\n      children: \"Mass Email Sender\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Subject\",\n        variant: \"outlined\",\n        margin: \"normal\",\n        value: subject,\n        onChange: e => setSubject(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Body\",\n        variant: \"outlined\",\n        margin: \"normal\",\n        multiline: true,\n        rows: 4,\n        value: body,\n        onChange: e => setBody(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        component: \"label\",\n        color: \"secondary\",\n        fullWidth: true,\n        children: [\"Upload CSV\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          hidden: true,\n          accept: \".csv\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), fileName && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"primary\",\n        children: [\"File Uploaded: \", fileName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 27\n      }, this), success && /*#__PURE__*/_jsxDEV(Typography, {\n        color: \"primary\",\n        children: success\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        type: \"submit\",\n        fullWidth: true,\n        children: \"Send Emails\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(EmailSender, \"jmlX40RKvkGLGp/pD6rfrYHLlTc=\");\n_c = EmailSender;\nexport default EmailSender;\nvar _c;\n$RefreshReg$(_c, \"EmailSender\");","map":{"version":3,"names":["React","useState","TextField","Button","Container","Typography","sendEmail","jsxDEV","_jsxDEV","EmailSender","_s","subject","setSubject","body","setBody","file","setFile","fileName","setFileName","error","setError","success","setSuccess","handleFileChange","e","selectedFile","target","files","name","handleSubmit","preventDefault","formData","FormData","append","err","message","maxWidth","children","variant","gutterBottom","_jsxFileName","lineNumber","columnNumber","onSubmit","fullWidth","label","margin","value","onChange","required","multiline","rows","component","color","type","hidden","accept","_c","$RefreshReg$"],"sources":["/Users/zop7768/go/src/MyProjects/massmailgeneratorusinggolang/frontend/src/components/EmailSender.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { TextField, Button, Container, Typography } from '@mui/material';\nimport { sendEmail } from '../services/emailService';\n\nconst EmailSender = () => {\n    const [subject, setSubject] = useState('');\n    const [body, setBody] = useState('');\n    const [file, setFile] = useState(null);\n    const [fileName, setFileName] = useState('');\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const handleFileChange = (e) => {\n        const selectedFile = e.target.files[0];\n        if (selectedFile) {\n            setFile(selectedFile);\n            setFileName(selectedFile.name); // Set the file name for feedback\n            setError('');\n        } else {\n            setFile(null);\n            setFileName('');\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!file) {\n            setError('Please upload a CSV file.');\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('subject', subject);\n        formData.append('body', body);\n        formData.append('file', file);\n\n        try {\n            await sendEmail(formData); // Adjust the API call to handle FormData\n            setSuccess('Emails sent successfully!');\n            setError('');\n            setFile(null);\n            setFileName('');\n        } catch (err) {\n            setError('Failed to send emails. ' + (err.message || ''));\n            setSuccess('');\n        }\n    };\n\n    return (\n        <Container maxWidth=\"sm\">\n            <Typography variant=\"h4\" gutterBottom>\n                Mass Email Sender\n            </Typography>\n            <form onSubmit={handleSubmit}>\n                <TextField\n                    fullWidth\n                    label=\"Subject\"\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    value={subject}\n                    onChange={(e) => setSubject(e.target.value)}\n                    required\n                />\n                <TextField\n                    fullWidth\n                    label=\"Body\"\n                    variant=\"outlined\"\n                    margin=\"normal\"\n                    multiline\n                    rows={4}\n                    value={body}\n                    onChange={(e) => setBody(e.target.value)}\n                    required\n                />\n                <Button variant=\"contained\" component=\"label\" color=\"secondary\" fullWidth>\n                    Upload CSV\n                    <input\n                        type=\"file\"\n                        hidden\n                        accept=\".csv\"\n                        onChange={handleFileChange}\n                    />\n                </Button>\n                {fileName && (\n                    <Typography variant=\"body1\" color=\"primary\">\n                        File Uploaded: {fileName}\n                    </Typography>\n                )}\n                {error && <Typography color=\"error\">{error}</Typography>}\n                {success && <Typography color=\"primary\">{success}</Typography>}\n                <Button variant=\"contained\" color=\"primary\" type=\"submit\" fullWidth>\n                    Send Emails\n                </Button>\n            </form>\n        </Container>\n    );\n};\n\nexport default EmailSender;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}